function [M,h,q_dot] = compute_dynamics(in1,in2)
%DYNAMICS
%    [M,H,Q_DOT] = DYNAMICS(IN1,IN2)

%    This function was generated by the Symbolic Math Toolbox version 8.5.
%    21-Apr-2021 21:22:50

q2 = in1(2,:);
q3 = in1(3,:);
q4 = in1(4,:);
q5 = in1(5,:);
q6 = in1(6,:);
w1 = in2(1,:);
w2 = in2(2,:);
w3 = in2(3,:);
w4 = in2(4,:);
w5 = in2(5,:);
w6 = in2(6,:);
t2 = cos(q2);
t3 = cos(q3);
t4 = cos(q4);
t5 = cos(q5);
t6 = cos(q6);
t7 = sin(q2);
t8 = sin(q3);
t9 = sin(q4);
t10 = sin(q5);
t11 = sin(q6);
t12 = q4.*2.0;
t13 = q6.*2.0;
t14 = w1.^2;
t15 = w2.^2;
t16 = w3.^2;
t17 = w5.^2;
t18 = w6.^2;
t19 = t3.^2;
t20 = t4.^2;
t21 = t5.^2;
t22 = t6.^2;
t23 = sin(t12);
t24 = sin(t13);
t25 = t8.^2;
t26 = t11.^2;
t27 = t3.*w2;
t28 = t6.*w4;
t29 = t6.*w5;
t30 = t8.*w1;
t31 = t11.*w4;
t32 = t11.*w5;
t33 = t5.*t6;
t34 = t9.*t11;
t35 = 1.0./t2;
t36 = 1.0./t5;
t37 = t10.*(3.0./2.0);
t38 = t3.*t7.*w1;
t40 = t7.*t8.*w2;
t44 = t4.*t6.*t10;
t45 = (t4.*t6)./2.0;
t46 = t4.*t5.*(3.0./2.0);
t39 = t10.*t28;
t41 = t10.*t32;
t42 = -t32;
t43 = t33+1.0;
t47 = -t38;
t49 = t27+t30;
t50 = t29+t31;
t51 = t19+t25;
t52 = t22+t26;
t53 = -t44;
t54 = (t10.*t34)./2.0;
t48 = -t39;
t55 = -t54;
t56 = t28+t42;
t57 = 1.0./t51;
t58 = 1.0./t52;
t59 = t34+t53;
t60 = (t43.*t59)./2.0;
t62 = t45+t46+t55;
t61 = -t60;
M = reshape([t2.*t3.*(5.0./2.0)-(t7.*t34)./2.0+(t7.*t44)./2.0-(t7.*t33.*t34)./2.0+(t2.*t4.*t8.*t11)./2.0-(t2.*t3.*t21.*t22)./2.0+(t2.*t6.*t8.*t9.*t10)./2.0+(t4.*t5.*t7.*t10.*t22)./2.0+(t2.*t4.*t8.*t11.*t33)./2.0+(t2.*t5.*t8.*t9.*t10.*t22)./2.0,t8.*(5.0./2.0)-(t3.*t4.*t11)./2.0-(t8.*t21.*t22)./2.0-(t3.*t6.*t9.*t10)./2.0-(t3.*t4.*t11.*t33)./2.0-(t3.*t5.*t9.*t10.*t22)./2.0,t61,t21.*t22.*(-1.0./2.0)+3.0./2.0,t11.*t33.*(-1.0./2.0),t37,t2.*t8.*-3.0-(t4.*t7.*t9)./2.0+(t2.*t8.*t20)./2.0+(t2.*t8.*t22)./2.0-t2.*t8.*t33-(t2.*t3.*t4.*t11)./2.0-(t6.*t7.*t10.*t11)./2.0+t4.*t7.*t9.*t22-t2.*t8.*t20.*t22-(t2.*t8.*t21.*t22)./2.0+t2.*t8.*t34.*t44-(t2.*t3.*t6.*t9.*t10)./2.0-(t2.*t3.*t4.*t11.*t33)./2.0+t6.*t7.*t10.*t11.*t20-(t4.*t7.*t9.*t21.*t22)./2.0+(t2.*t8.*t20.*t21.*t22)./2.0-(t2.*t3.*t5.*t9.*t10.*t22)./2.0,t3.*3.0-(t3.*t20)./2.0-(t3.*t22)./2.0+t3.*t33-(t4.*t8.*t11)./2.0+t3.*t20.*t22+(t3.*t21.*t22)./2.0+t3.*t34.*t53-(t6.*t8.*t9.*t10)./2.0-(t4.*t8.*t11.*t33)./2.0-(t3.*t20.*t21.*t22)./2.0-(t5.*t8.*t9.*t10.*t22)./2.0,t4.*t9.*(-1.0./2.0)-(t6.*t10.*t11)./2.0+t4.*t9.*t22+t6.*t10.*t11.*t20-(t4.*t9.*t21.*t22)./2.0,t43.*(t4.*t11+t6.*t9.*t10).*(-1.0./2.0),t4+(t4.*t22)./2.0+(t4.*t33)./2.0-(t6.*t10.*t34)./2.0,t5.*t9.*(-3.0./2.0)-(t6.*t9)./2.0-(t4.*t10.*t11)./2.0,t7.*(5.0./2.0)+(t7.*t20)./2.0+(t7.*t22)./2.0+t7.*t33-(t2.*t3.*t34)./2.0+(t2.*t3.*t44)./2.0-t7.*t20.*t22+t7.*t34.*t44+(t2.*t4.*t8.*t9)./2.0+(t7.*t20.*t21.*t22)./2.0-(t2.*t3.*t33.*t34)./2.0+(t2.*t6.*t8.*t10.*t11)./2.0-t2.*t4.*t8.*t9.*t22+(t2.*t3.*t4.*t5.*t10.*t22)./2.0-t2.*t6.*t8.*t10.*t11.*t20+(t2.*t4.*t8.*t9.*t21.*t22)./2.0,t8.*t34.*(-1.0./2.0)+(t8.*t44)./2.0-(t3.*t4.*t9)./2.0-(t8.*t33.*t34)./2.0-(t3.*t6.*t10.*t11)./2.0+t3.*t4.*t9.*t22+(t4.*t5.*t8.*t10.*t22)./2.0+t3.*t6.*t10.*t11.*t20-(t3.*t4.*t9.*t21.*t22)./2.0,t20./2.0+t22./2.0+t33-t20.*t22+t34.*t44+(t20.*t21.*t22)./2.0+5.0./2.0,t61,t9+(t9.*t22)./2.0+(t9.*t33)./2.0+(t11.*t44)./2.0,t62,t7.*t34+t7.*t53+t2.*t3.*t33-t2.*t4.*t8.*t11-t2.*t6.*t8.*t9.*t10,t8.*t33+t3.*t4.*t11+t3.*t6.*t9.*t10,t59,t33,t11,0.0,(t5.*t7.*t9)./2.0+t6.*t7.*t9.*(3.0./2.0)-(t2.*t4.*t5.*t8)./2.0-t2.*t4.*t6.*t8.*(3.0./2.0)-t2.*t3.*t5.*t11.*(3.0./2.0)+t4.*t7.*t11.*t37+t2.*t8.*t34.*t37,(t3.*t4.*t5)./2.0+t3.*t4.*t6.*(3.0./2.0)-t5.*t8.*t11.*(3.0./2.0)-t3.*t10.*t34.*(3.0./2.0),(t5.*t9)./2.0+t6.*t9.*(3.0./2.0)+t4.*t11.*t37,t5.*t11.*(-3.0./2.0),t6.*(3.0./2.0),0.0,t7.*t45+t7.*t46+t2.*t3.*t37-(t7.*t10.*t34)./2.0+t2.*t5.*t8.*t9.*(3.0./2.0)+(t2.*t6.*t8.*t9)./2.0+(t2.*t4.*t8.*t10.*t11)./2.0,t8.*t37-t3.*t5.*t9.*(3.0./2.0)-(t3.*t6.*t9)./2.0-(t3.*t4.*t10.*t11)./2.0,t62,t37,0.0,3.0./2.0],[6,6]);
if nargout > 1
    h = [t49.*(t38.*(-5.0./2.0)+t40.*3.0-(t20.*t40)./2.0-(t22.*t40)./2.0+t33.*t40+t2.*w3.*(5.0./2.0)+t2.*t9.*t29.*(3.0./2.0)+t2.*t9.*t31+t2.*t4.*t48+(t21.*t22.*t38)./2.0+t20.*t22.*t40+(t21.*t22.*t40)./2.0+t34.*t40.*t53+(t2.*t20.*w3)./2.0+(t2.*t22.*w3)./2.0-(t2.*t34.*w1)./2.0+t2.*t33.*w3+(t2.*t44.*w1)./2.0+t2.*t45.*w6+t2.*t46.*w6-t3.*t5.*t7.*t28+t3.*t5.*t7.*t32.*(3.0./2.0)+t4.*t7.*t8.*t29.*(3.0./2.0)+(t4.*t7.*t11.*t27)./2.0+t4.*t7.*t8.*t31-(t4.*t7.*t11.*t30)./2.0+t7.*t8.*t9.*t39-t7.*t8.*t9.*t41.*(3.0./2.0)+t2.*t4.*t32.*t37-(t20.*t21.*t22.*t40)./2.0-(t2.*t4.*t9.*w2)./2.0+(t2.*t5.*t9.*w5)./2.0-t3.*t7.*t10.*w6.*(3.0./2.0)-t2.*t20.*t22.*w3+(t3.*t7.*t34.*w3)./2.0-(t2.*t10.*t34.*w6)./2.0-(t3.*t7.*t44.*w3)./2.0-(t2.*t33.*t34.*w1)./2.0+t2.*t34.*t44.*w3+(t6.*t7.*t9.*t10.*t27)./2.0-(t6.*t7.*t9.*t10.*t30)./2.0+(t4.*t7.*t11.*t27.*t33)./2.0-(t4.*t7.*t11.*t30.*t33)./2.0+(t4.*t5.*t7.*t8.*w5)./2.0-(t2.*t6.*t10.*t11.*w2)./2.0-(t4.*t7.*t8.*t9.*w3)./2.0-t5.*t7.*t8.*t9.*w6.*(3.0./2.0)-(t6.*t7.*t8.*t9.*w6)./2.0+t2.*t4.*t9.*t22.*w2+(t2.*t20.*t21.*t22.*w3)./2.0+(t3.*t7.*t33.*t34.*w3)./2.0+(t5.*t7.*t9.*t10.*t22.*t27)./2.0-(t5.*t7.*t9.*t10.*t22.*t30)./2.0+(t2.*t4.*t5.*t10.*t22.*w1)./2.0-(t6.*t7.*t8.*t10.*t11.*w3)./2.0-(t4.*t7.*t8.*t10.*t11.*w6)./2.0+t2.*t6.*t10.*t11.*t20.*w2+t4.*t7.*t8.*t9.*t22.*w3-(t2.*t4.*t9.*t21.*t22.*w2)./2.0-(t3.*t4.*t5.*t7.*t10.*t22.*w3)./2.0+t6.*t7.*t8.*t10.*t11.*t20.*w3-(t4.*t7.*t8.*t9.*t21.*t22.*w3)./2.0)+t50.*(t2.*t3.*t48+t7.*t32.*t46-t4.*t5.*t7.*t28+(t2.*t9.*t22.*t27)./2.0-(t2.*t9.*t22.*t30)./2.0-(t2.*t9.*t27.*t33)./2.0+t2.*t3.*t32.*t37+(t2.*t9.*t30.*t33)./2.0+(t2.*t11.*t27.*t44)./2.0-(t2.*t11.*t30.*t44)./2.0+t2.*t3.*t5.*w6.*(3.0./2.0)-t6.*t7.*t10.*w3-t4.*t7.*t10.*w6.*(3.0./2.0)-(t7.*t9.*t10.*w5)./2.0-(t4.*t7.*t22.*w1)./2.0+(t4.*t7.*t33.*w1)./2.0-(t5.*t7.*t34.*w6)./2.0-(t7.*t11.*t33.*w2)./2.0+t6.*t7.*t54.*w1-t2.*t5.*t8.*t9.*t28+t2.*t5.*t8.*t9.*t32.*(3.0./2.0)-t2.*t9.*t21.*t22.*t27+t2.*t9.*t21.*t22.*t30+t2.*t6.*t8.*t10.*w2+(t2.*t4.*t8.*t10.*w5)./2.0-(t2.*t3.*t4.*t22.*w3)./2.0-t2.*t8.*t9.*t10.*w6.*(3.0./2.0)+(t2.*t3.*t4.*t33.*w3)./2.0+t4.*t7.*t21.*t22.*w1+(t2.*t8.*t11.*t33.*w3)./2.0+t2.*t3.*t6.*t54.*w3+t7.*t11.*t20.*t33.*w2+t4.*t7.*t33.*t34.*w3+(t2.*t4.*t5.*t8.*t11.*w6)./2.0+t2.*t3.*t5.*t10.*t22.*w1+t2.*t5.*t8.*t10.*t22.*w2+t2.*t3.*t4.*t21.*t22.*w3-t5.*t7.*t10.*t20.*t22.*w3-t2.*t8.*t11.*t20.*t33.*w3+t2.*t4.*t8.*t33.*t34.*w2+t4.*t5.*t7.*t9.*t10.*t22.*w2-t2.*t5.*t8.*t10.*t20.*t22.*w2-t2.*t4.*t5.*t8.*t9.*t10.*t22.*w3)+((t40+t47+t2.*w3).*(-t27-t49.*5.0+t20.*t27+t22.*t27-t27.*t33.*2.0-t3.*t4.*t29.*3.0-t3.*t4.*t31.*2.0-t5.*t8.*t28.*2.0+t5.*t8.*t32.*3.0-t3.*t9.*t39.*2.0+t3.*t9.*t41.*3.0-t20.*t22.*t27.*2.0-t21.*t22.*t27+t21.*t22.*t30+t27.*t34.*t44.*2.0-t8.*t10.*w6.*3.0+t8.*t34.*w3+t8.*t53.*w3+t20.*t21.*t22.*t27-t3.*t4.*t5.*w5+t3.*t4.*t9.*w3+t3.*t4.*t11.*w1+t3.*t5.*t9.*w6.*3.0+t3.*t6.*t9.*w6+t4.*t8.*t11.*w2+t8.*t33.*t34.*w3+t3.*t6.*t9.*t10.*w1+t3.*t6.*t10.*t11.*w3+t3.*t4.*t10.*t11.*w6+t6.*t8.*t9.*t10.*w2-t3.*t4.*t9.*t22.*w3.*2.0+t3.*t4.*t11.*t33.*w1+t4.*t8.*t11.*t33.*w2+t3.*t5.*t9.*t10.*t22.*w1-t4.*t5.*t8.*t10.*t22.*w3-t3.*t6.*t10.*t11.*t20.*w3.*2.0+t5.*t8.*t9.*t10.*t22.*w2+t3.*t4.*t9.*t21.*t22.*w3))./2.0-t36.*(t41+t48+t5.*w6).*(-t7.*t9.*t28+t7.*t9.*t32.*(3.0./2.0)+t2.*t27.*t45+t2.*t30.*t54-(t7.*t10.*w2)./2.0-(t2.*t4.*t5.*t27)./2.0+t2.*t3.*t5.*t29.*(3.0./2.0)+t2.*t3.*t5.*t31+(t2.*t4.*t5.*t30)./2.0-(t2.*t4.*t6.*t30)./2.0+t2.*t4.*t8.*t28-t2.*t4.*t8.*t32.*(3.0./2.0)-t4.*t7.*t10.*t29.*(3.0./2.0)-t4.*t7.*t10.*t31-(t2.*t10.*t27.*t34)./2.0-(t5.*t7.*t9.*w1)./2.0+(t2.*t8.*t10.*w3)./2.0+(t6.*t7.*t9.*w1)./2.0+t5.*t7.*t11.*w3+t6.*t7.*t11.*w3+(t4.*t7.*t11.*w6)./2.0+t7.*t10.*t20.*w2+t7.*t10.*t22.*w2+(t2.*t8.*t34.*w6)./2.0-(t2.*t8.*t44.*w6)./2.0-t2.*t8.*t9.*t10.*t29.*(3.0./2.0)+t2.*t4.*t5.*t22.*t27-t2.*t8.*t9.*t10.*t31-t2.*t4.*t5.*t22.*t30-t2.*t10.*t27.*t33.*t34+t2.*t10.*t30.*t33.*t34-(t2.*t3.*t5.*t9.*w3)./2.0+(t2.*t3.*t6.*t9.*w3)./2.0-t2.*t5.*t8.*t11.*w2+t2.*t6.*t8.*t11.*w2+t4.*t7.*t9.*t10.*w3+(t4.*t7.*t10.*t11.*w1)./2.0+(t6.*t7.*t9.*t10.*w6)./2.0-t2.*t8.*t10.*t20.*w3+t5.*t7.*t9.*t22.*w1-t2.*t8.*t10.*t22.*w3-t6.*t7.*t11.*t20.*w3.*2.0+t4.*t6.*t7.*t34.*w2.*2.0-t7.*t10.*t20.*t22.*w2.*2.0+(t2.*t3.*t4.*t10.*t11.*w3)./2.0+t2.*t4.*t8.*t9.*t10.*w2+t2.*t3.*t5.*t9.*t22.*w3-t2.*t3.*t6.*t11.*t21.*w1-t2.*t6.*t8.*t11.*t20.*w2.*2.0-t2.*t6.*t8.*t11.*t21.*w2-t4.*t7.*t9.*t10.*t22.*w3.*2.0-t2.*t4.*t6.*t8.*t34.*w3.*2.0+t2.*t8.*t10.*t20.*t22.*w3.*2.0+t4.*t7.*t10.*t11.*t33.*w1+t6.*t7.*t11.*t20.*t21.*w3-t4.*t6.*t7.*t21.*t34.*w2-t2.*t4.*t8.*t9.*t10.*t22.*w2.*2.0+t2.*t3.*t4.*t10.*t11.*t33.*w3+t2.*t6.*t8.*t11.*t20.*t21.*w2+t2.*t4.*t6.*t8.*t21.*t34.*w3)-t36.*t56.*(t7.*w2.*(-1.0./2.0)-t4.*t7.*t29.*(3.0./2.0)-t4.*t7.*t31-(t2.*t27.*t34)./2.0+t7.*t9.*t48+(t2.*t30.*t34)./2.0+(t2.*t27.*t44)./2.0-(t2.*t30.*t44)./2.0+(t2.*t8.*w3)./2.0+t7.*t20.*w2+t7.*t22.*w2-t2.*t8.*t9.*t29.*(3.0./2.0)-t2.*t8.*t9.*t31+t2.*t4.*t8.*t39-t2.*t4.*t8.*t41.*(3.0./2.0)+t7.*t9.*t32.*t37-(t2.*t27.*t33.*t34)./2.0+(t2.*t30.*t33.*t34)./2.0-(t4.*t5.*t7.*w5)./2.0+t4.*t7.*t9.*w3+(t4.*t7.*t11.*w1)./2.0+t5.*t7.*t9.*w6.*(3.0./2.0)+(t6.*t7.*t9.*w6)./2.0-t2.*t8.*t20.*w3-t2.*t8.*t22.*w3-t7.*t20.*t22.*w2.*2.0-(t7.*t21.*t22.*w2)./2.0+t2.*t8.*t54.*w6+t7.*t34.*t44.*w2.*2.0+(t2.*t3.*t4.*t11.*w3)./2.0-t2.*t4.*t5.*t8.*w6.*(3.0./2.0)+t2.*t4.*t8.*t9.*w2-(t2.*t4.*t6.*t8.*w6)./2.0-(t2.*t5.*t8.*t9.*w5)./2.0+(t6.*t7.*t9.*t10.*w1)./2.0+t6.*t7.*t10.*t11.*w3+(t4.*t7.*t10.*t11.*w6)./2.0-t4.*t7.*t9.*t22.*w3.*2.0+t2.*t8.*t20.*t22.*w3.*2.0+(t2.*t8.*t21.*t22.*w3)./2.0+(t4.*t7.*t11.*t33.*w1)./2.0+t7.*t20.*t21.*t22.*w2-t2.*t8.*t34.*t44.*w3.*2.0+(t2.*t4.*t5.*t10.*t22.*t27)./2.0-(t2.*t4.*t5.*t10.*t22.*t30)./2.0+(t2.*t3.*t6.*t9.*t10.*w3)./2.0+t2.*t6.*t8.*t10.*t11.*w2-t2.*t4.*t8.*t9.*t22.*w2.*2.0+(t5.*t7.*t9.*t10.*t22.*w1)./2.0+(t2.*t3.*t4.*t11.*t33.*w3)./2.0-t6.*t7.*t10.*t11.*t20.*w3.*2.0+t4.*t7.*t9.*t21.*t22.*w3-t2.*t8.*t20.*t21.*t22.*w3+(t2.*t3.*t5.*t9.*t10.*t22.*w3)./2.0-t2.*t6.*t8.*t10.*t11.*t20.*w2.*2.0+t2.*t4.*t8.*t9.*t21.*t22.*w2);(t3.*t14.*t34)./2.0-(t3.*t16.*t34)./2.0+(t3.*t17.*t34)./2.0+(t3.*t18.*t34)./2.0-(t3.*t14.*t44)./2.0+(t3.*t16.*t44)./2.0-(t3.*t17.*t44)./2.0-(t3.*t18.*t44)./2.0-t10.*t27.*w5-(t30.*t34.*w2)./2.0+(t30.*t44.*w2)./2.0-(t8.*w2.*w3)./2.0-(t4.*t8.*t9.*t15)./2.0+(t4.*t8.*t9.*t16)./2.0-t5.*t10.*t27.*t29+t5.*t10.*t29.*t30+(t3.*t14.*t33.*t34)./2.0-(t3.*t16.*t33.*t34)./2.0+t3.*t5.*t28.*w3-(t3.*t4.*t28.*w6)./2.0+(t4.*t9.*t27.*w1)./2.0-t3.*t9.*t29.*w1-t3.*t5.*t32.*w3.*2.0-t3.*t9.*t31.*w1-t4.*t8.*t29.*w3.*2.0-(t3.*t9.*t28.*w5)./2.0-(t4.*t11.*t27.*w3)./2.0-t4.*t8.*t31.*w3+t3.*t4.*t39.*w1+(t4.*t11.*t30.*w3)./2.0+t8.*t9.*t29.*w2.*2.0-t3.*t4.*t41.*w1-t5.*t11.*t27.*w6+(t5.*t8.*t31.*w6)./2.0+t6.*t11.*t27.*w6+t8.*t9.*t31.*w2+t4.*t8.*t41.*w2.*2.0+t8.*t9.*t41.*w3.*2.0+t4.*t8.*t48.*w2+t8.*t9.*t48.*w3-(t30.*t33.*t34.*w2)./2.0+t3.*t10.*w3.*w6.*2.0-(t3.*t20.*w1.*w3)./2.0+(t8.*t10.*w4.*w5)./2.0-(t3.*t22.*w1.*w3)./2.0+t8.*t20.*w2.*w3+t8.*t22.*w2.*w3-t3.*t33.*w1.*w3-(t6.*t8.*t10.*t11.*t15)./2.0+(t6.*t8.*t10.*t11.*t16)./2.0+t4.*t8.*t9.*t15.*t22-t4.*t8.*t9.*t16.*t22+t4.*t5.*t9.*t27.*t42+t5.*t10.*t20.*t27.*t29-(t3.*t4.*t10.*t31.*w5)./2.0-(t6.*t9.*t10.*t27.*w3)./2.0+(t6.*t10.*t11.*t27.*w1)./2.0+t4.*t9.*t10.*t27.*w6+(t6.*t9.*t10.*t30.*w3)./2.0+(t3.*t9.*t10.*t31.*w6)./2.0+t3.*t5.*t20.*t32.*w3-t3.*t9.*t21.*t29.*w1-t4.*t9.*t22.*t27.*w1+t4.*t8.*t21.*t29.*w3-t8.*t9.*t21.*t29.*w2-t6.*t11.*t20.*t27.*w6.*2.0-t6.*t11.*t21.*t27.*w6+t6.*t11.*t21.*t30.*w6-(t4.*t11.*t27.*t33.*w3)./2.0+(t4.*t11.*t30.*t33.*w3)./2.0-t3.*t4.*t5.*w1.*w6-t3.*t4.*t6.*w1.*w6-(t3.*t4.*t5.*w4.*w6)./2.0-t3.*t5.*t9.*w1.*w5+t4.*t5.*t8.*w2.*w6.*2.0-(t3.*t5.*t9.*w4.*w5)./2.0+t5.*t8.*t9.*w3.*w6.*2.0-t3.*t10.*t20.*w3.*w6-t3.*t10.*t22.*w3.*w6+t3.*t20.*t22.*w1.*w3-(t3.*t21.*t22.*w1.*w3)./2.0+t3.*t10.*t34.*w1.*w6-t8.*t20.*t22.*w2.*w3.*2.0-(t8.*t21.*t22.*w2.*w3)./2.0+t8.*t34.*t44.*w2.*w3.*2.0+t3.*t34.*t53.*w1.*w3-(t3.*t4.*t5.*t10.*t14.*t22)./2.0+(t3.*t4.*t5.*t10.*t16.*t22)./2.0+t6.*t8.*t10.*t11.*t15.*t20-t6.*t8.*t10.*t11.*t16.*t20-(t4.*t8.*t9.*t15.*t21.*t22)./2.0+(t4.*t8.*t9.*t16.*t21.*t22)./2.0+(t4.*t5.*t10.*t22.*t30.*w2)./2.0-t6.*t10.*t11.*t20.*t27.*w1-(t5.*t9.*t10.*t22.*t27.*w3)./2.0-t4.*t9.*t10.*t22.*t27.*w6.*2.0+(t5.*t9.*t10.*t22.*t30.*w3)./2.0+(t4.*t9.*t21.*t22.*t27.*w1)./2.0+t6.*t11.*t20.*t21.*t27.*w6-t3.*t4.*t5.*t22.*w1.*w6-t4.*t5.*t8.*t22.*w2.*w6-t5.*t8.*t9.*t22.*w3.*w6-t3.*t4.*t6.*t34.*w3.*w6.*2.0+t3.*t10.*t20.*t22.*w3.*w6.*2.0-(t3.*t20.*t21.*t22.*w1.*w3)./2.0+t8.*t20.*t21.*t22.*w2.*w3+t3.*t10.*t33.*t34.*w1.*w6+t8.*t10.*t33.*t34.*w2.*w6+t3.*t4.*t5.*t9.*t10.*t29.*w3-t4.*t8.*t10.*t11.*t33.*w3.*w6+t3.*t4.*t6.*t21.*t34.*w3.*w6;(w1.*w2)./2.0-(t4.*t11.*t14)./2.0+(t4.*t11.*t15)./2.0-(t4.*t11.*t17)./2.0-(t4.*t11.*t18)./2.0+t4.*t29.*w1-t5.*t28.*w2+t4.*t31.*w1+(t4.*t28.*w5)./2.0+t5.*t32.*w2-(t9.*t28.*w6)./2.0+t9.*t39.*w1-t9.*t41.*w1-t10.*w2.*w6-t10.*w3.*w5-(t20.*w1.*w2)./2.0-(t22.*w1.*w2)./2.0-(t23.*w1.*w3)./4.0-(t24.*w3.*w6)./2.0+t33.*w1.*w2+(t34.*w2.*w3)./2.0-(t44.*w2.*w3)./2.0-(t6.*t9.*t10.*t14)./2.0+(t6.*t9.*t10.*t15)./2.0-(t6.*t9.*t10.*t17)./2.0-(t6.*t9.*t10.*t18)./2.0-(t4.*t11.*t14.*t33)./2.0+(t4.*t11.*t15.*t33)./2.0-(t4.*t10.*t31.*w6)./2.0+t4.*t21.*t29.*w1-(t9.*t10.*t31.*w5)./2.0+t5.*t20.*t32.*w2+t4.*t5.*w1.*w5+(t4.*t5.*w4.*w5)./2.0-t5.*t9.*w1.*w6-t6.*t9.*w1.*w6-(t5.*t9.*w4.*w6)./2.0-t5.*t11.*w3.*w6-t10.*t20.*w2.*w6-t10.*t22.*w2.*w6+t20.*t22.*w1.*w2+t21.*t22.*w1.*w2+(t33.*t34.*w2.*w3)./2.0+t34.*t53.*w1.*w2-(t5.*t9.*t10.*t14.*t22)./2.0+(t5.*t9.*t10.*t15.*t22)./2.0+t4.*t5.*t9.*t32.*w3-t5.*t10.*t20.*t29.*w3-(t6.*t10.*t11.*w1.*w3)./2.0-t4.*t9.*t10.*w3.*w6-t4.*t10.*t11.*w1.*w6+t4.*t9.*t22.*w1.*w3-t5.*t9.*t22.*w1.*w6+t6.*t11.*t20.*w3.*w6.*2.0-t4.*t6.*t34.*w2.*w6.*2.0+t10.*t20.*t22.*w2.*w6.*2.0-(t20.*t21.*t22.*w1.*w2)./2.0+t4.*t5.*t9.*t10.*t29.*w2-(t4.*t5.*t10.*t22.*w2.*w3)./2.0+t6.*t10.*t11.*t20.*w1.*w3+t4.*t9.*t10.*t22.*w3.*w6.*2.0-(t4.*t9.*t21.*t22.*w1.*w3)./2.0-t4.*t10.*t11.*t33.*w1.*w6-t6.*t11.*t20.*t21.*w3.*w6+t4.*t6.*t21.*t34.*w2.*w6;t15.*t23.*(-1.0./4.0)+(t16.*t23)./4.0-(w2.*w3)./2.0-t4.*t29.*w3.*2.0-t4.*t31.*w3+t9.*t29.*w2.*2.0+(t5.*t31.*w6)./2.0+t9.*t31.*w2+t4.*t41.*w2.*2.0+t9.*t41.*w3.*2.0+t4.*t48.*w2+t9.*t48.*w3+(t10.*w4.*w5)./2.0+t20.*w2.*w3+t22.*w2.*w3-(t34.*w1.*w2)./2.0+(t44.*w1.*w2)./2.0-(t6.*t10.*t11.*t15)./2.0+(t6.*t10.*t11.*t16)./2.0+t4.*t9.*t15.*t22-t4.*t9.*t16.*t22+t5.*t10.*t29.*w1+t4.*t21.*t29.*w3-t9.*t21.*t29.*w2+t4.*t5.*w2.*w6.*2.0+(t4.*t11.*w1.*w3)./2.0+t5.*t9.*w3.*w6.*2.0-t20.*t22.*w2.*w3.*2.0-(t21.*t22.*w2.*w3)./2.0-(t33.*t34.*w1.*w2)./2.0+t34.*t44.*w2.*w3.*2.0+t6.*t10.*t11.*t15.*t20-t6.*t10.*t11.*t16.*t20-(t4.*t9.*t15.*t21.*t22)./2.0+(t4.*t9.*t16.*t21.*t22)./2.0+(t6.*t9.*t10.*w1.*w3)./2.0-t4.*t5.*t22.*w2.*w6-t5.*t9.*t22.*w3.*w6+t6.*t11.*t21.*w1.*w6+(t4.*t11.*t33.*w1.*w3)./2.0+t20.*t21.*t22.*w2.*w3+t10.*t33.*t34.*w2.*w6+(t4.*t5.*t10.*t22.*w1.*w2)./2.0+(t5.*t9.*t10.*t22.*w1.*w3)./2.0-t4.*t10.*t11.*t33.*w3.*w6;t28.*w6.*(-1.0./2.0)+t39.*w1-t41.*w1+(t6.*t10.*t15)./2.0+(t6.*t10.*t16)./2.0-t5.*w1.*w6-(t5.*t10.*t14.*t22)./2.0+(t5.*t10.*t15.*t22)./2.0+(t4.*t15.*t33.*t34)./2.0-(t4.*t16.*t33.*t34)./2.0+t4.*t5.*t28.*w3-t5.*t9.*t28.*w2+t5.*t9.*t32.*w2+t4.*t5.*t42.*w3+t4.*t10.*w3.*w6-t9.*t10.*w2.*w6+(t4.*t22.*w1.*w3)./2.0-t5.*t22.*w1.*w6-(t9.*t22.*w1.*w2)./2.0-(t4.*t33.*w1.*w3)./2.0+(t9.*t33.*w1.*w2)./2.0-t6.*t34.*w3.*w6+(t11.*t33.*w2.*w3)./2.0-(t11.*t44.*w1.*w2)./2.0-(t5.*t10.*t15.*t20.*t22)./2.0+(t5.*t10.*t16.*t20.*t22)./2.0-t4.*t6.*t11.*w2.*w6+t4.*t10.*t22.*w3.*w6-t9.*t10.*t22.*w2.*w6-t4.*t21.*t22.*w1.*w3-(t6.*t10.*t34.*w1.*w3)./2.0+t9.*t21.*t22.*w1.*w2-t11.*t20.*t33.*w2.*w3-t4.*t5.*t9.*t10.*t22.*w2.*w3;t15.*t24.*(-1.0./4.0)+(t16.*t24)./4.0+(w4.*w5)./2.0+(t5.*t11.*t15)./2.0+(t5.*t11.*t16)./2.0-t4.*t28.*w2+t5.*t29.*w1.*2.0+t5.*t31.*w1+t4.*t32.*w2.*2.0-t9.*t28.*w3+t9.*t32.*w3.*2.0-(t10.*w2.*w3)./2.0+t45.*w1.*w2-(t4.*t9.*t10.*t15)./2.0+(t4.*t9.*t10.*t16)./2.0-(t6.*t11.*t14.*t21)./2.0+t6.*t11.*t15.*t20+(t6.*t11.*t15.*t21)./2.0-t6.*t11.*t16.*t20-t4.*t10.*t29.*w3.*2.0-t4.*t10.*t31.*w3+t9.*t10.*t29.*w2.*2.0+t9.*t10.*t31.*w2-(t4.*t5.*w1.*w2)./2.0-(t5.*t9.*w1.*w3)./2.0+(t6.*t9.*w1.*w3)./2.0+t10.*t20.*w2.*w3+t10.*t22.*w2.*w3-(t10.*t34.*w1.*w2)./2.0+t4.*t9.*t10.*t15.*t22-t4.*t9.*t10.*t16.*t22-(t6.*t11.*t15.*t20.*t21)./2.0+(t6.*t11.*t16.*t20.*t21)./2.0+(t4.*t10.*t11.*w1.*w3)./2.0+t4.*t5.*t22.*w1.*w2+t5.*t9.*t22.*w1.*w3+t4.*t6.*t34.*w2.*w3.*2.0-t10.*t20.*t22.*w2.*w3.*2.0-t10.*t33.*t34.*w1.*w2+t4.*t10.*t11.*t33.*w1.*w3-t4.*t6.*t21.*t34.*w2.*w3];
end
if nargout > 2
    q_dot = [t35.*t57.*(t3.*w1-t8.*w2);t49.*t57;t35.*t57.*(t40+t47+t2.*t19.*w3+t2.*t25.*w3);t36.*t56.*t58;t50.*t58;t36.*t58.*(t41+t48+t5.*t22.*w6+t5.*t26.*w6)];
end
